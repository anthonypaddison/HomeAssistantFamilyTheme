# sidebar_menu_test.yaml (FULL CARD)
type: custom:mod-card
view_layout: { grid-area: sidebar }

card_mod:
  style: |
    :host {
      /* â‡© Define the tokens the templates rely on */
      --sb-inactive-bg:   var(--palette-lilac);   /* #CFBAF0 from your theme */
      --sb-inactive-icon: #0F172A;                /* dark slate */
      --sb-active-bg:     var(--family-background);
      --sb-active-icon:   #0F172A;

      position: sticky; top: 8px; z-index: 2;
    }
    ha-card {
      background: var(--card-background-color);
      border-radius: var(--ha-card-border-radius, 16px);
      box-shadow: var(--ha-card-box-shadow);
      padding: 0;
      overflow: visible;
    }

card:
  type: vertical-stack
  cards:
    - type: custom:button-card
      name: RAW CHECK (should be visible)
      icon: mdi:check

    - type: custom:button-card
      name: RED ERROR expected (template not found)
      template: does_not_exist

    # These two should now be visible (use the tokens above)
    - type: custom:button-card
      template: family_icon
      icon: mdi:home-heart
      tap_action: { action: none }

    - type: custom:button-card
      template: sb_icon_only
      icon: mdi:calendar
      variables: { section: Calendar, badge_entity: "" }  # safe: empty badge

    - type: custom:button-card
      template: debug_inline_icon
      icon: mdi:home-heart
      name: DEBUG TEMPLATE FROM EXTERNAL FILE
      show_name: true

    - type: markdown
      content: "_Sidebar OK (marker)._"
