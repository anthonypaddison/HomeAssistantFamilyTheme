# --- Month toggle control (shows only when Month view is active)
- type: conditional
  conditions:
    - entity: input_select.calendar_view
      state: Month
  card:
    type: entities
    show_header_toggle: false
    entities:
      - entity: input_boolean.calendar_month_from_today
        name: Start from today (rolling 30 days)
    card_mod:
      style: |
        ha-card { background: transparent; border: 0; box-shadow: none; margin: 0 0 8px 0; }

# --- Day (time grid)
- type: conditional
  conditions:
    - entity: input_select.calendar_view
      state: Day
  card:
    type: custom:fullcalendar-card
    entities:
      - entity: calendar.family
        name: Family
    options:
      initialView: timeGridDay
      nowIndicator: true
      allDaySlot: true
      slotMinTime: "06:00:00"
      slotMaxTime: "22:00:00"
      firstDay: 1
      locale: "en-gb"
    card_mod:
      style: |
        ha-card { background: none; border: 0; box-shadow: none; }

# --- Week (rolling 5 days from today)
- type: conditional
  conditions:
    - entity: input_select.calendar_view
      state: Week
  card:
    type: custom:fullcalendar-card
    entities:
      - entity: calendar.family
        name: Family
    options:
      initialView: timeGridFiveDay
      views:
        timeGridFiveDay:
          type: timeGrid
          duration: { days: 5 }
      nowIndicator: true
      allDaySlot: true
      slotMinTime: "06:00:00"
      slotMaxTime: "22:00:00"
      firstDay: 1
      locale: "en-gb"
    card_mod:
      style: |
        ha-card { background: none; border: 0; box-shadow: none; }

# --- Month (classic month grid starting at month start)
- type: conditional
  conditions:
    - entity: input_select.calendar_view
      state: Month
    - entity: input_boolean.calendar_month_from_today
      state: 'off'
  card:
    type: custom:fullcalendar-card
    entities:
      - entity: calendar.family
        name: Family
    options:
      initialView: dayGridMonth
      firstDay: 1
      locale: "en-gb"
    card_mod:
      style: |
        ha-card { background: none; border: 0; box-shadow: none; }

# --- Month (rolling 30 days from today)
- type: conditional
  conditions:
    - entity: input_select.calendar_view
      state: Month
    - entity: input_boolean.calendar_month_from_today
      state: 'on'
  card:
    type: custom:fullcalendar-card
    entities:
      - entity: calendar.family
        name: Family
    options:
      initialView: dayGridThirty
      views:
        dayGridThirty:
          type: dayGrid
          duration: { days: 30 }
      firstDay: 1
      locale: "en-gb"
    card_mod:
      style: |
        ha-card { background: none; border: 0; box-shadow: none; }