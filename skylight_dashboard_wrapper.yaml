title: Panogu Family
button_card_templates:
  sidebar_item:
    show_icon: true
    show_name: false
    styles:
      card:
        - box-shadow: none !important
        - margin: 0 !important
        - padding: 10px 8px !important
        - justify-content: center !important
        - border-radius: 0 !important
        - border: none !important
        - background: >
            [[[
              const s = variables?.section ?? '';
              const current = states['input_select.calendar_section']?.state;
              return current === s
                ? 'white !important'
                : 'var(--app-header-background-color) !important';
            ]]]
      icon:

        - color: >
            [[[
              const s = variables?.section ?? '';
              const current = states['input_select.calendar_section']?.state;
              return current === s
                ? 'var(--state-icon-color) !important'
                : 'var(--state-icon-color) !important';
            ]]]
        - width: 32px !important

views:
  - title: Panogu Family
    path: panogu-family
    panel: true
    badges: []
    cards:
      - type: custom:bootstrap-grid-card
        class: container-fluid g-0
        card_mod:
          style: |
            ha-card {
              margin: 0 !important;
              padding: 0 !important;
              background: transparent !important;
              box-shadow: none !important;
              border: 0 !important;
            }
        cards:
          - type: row
            class: row g-3 align-items-stretch
            style: |
              .annoying {
                margin: 0 !important;
                padding: 0 !important;
              }
            cards:
              # -------- LEFT SIDEBAR --------
              - !include sidebar_menu.yaml

              # -------- RIGHT AREA --------
              - type: vertical-stack
                class: col-10
                style: |
                  ha-card {
                    height: 100vh !important;
                  }
                cards:

                  # -------- TOP BARS --------

                  # Calendar -> Top Bar Layout 1 (A):
                  # Order: View selector -> Family name + time -> Small weather -> Legend
                  - type: conditional
                    conditions:
                      - entity: input_select.calendar_section
                        state: Calendar
                      - entity: input_select.calendar_header_layout
                        state: A
                    card: !include topbar_calendar_layout1.yaml

                  # Top Bar Layout 2 (B):
                  # Order: Family name -> Time -> Legend -> View selector
                  - type: conditional
                    conditions:
                      - entity: input_select.calendar_section
                        state: Calendar
                      - entity: input_select.calendar_header_layout
                        state: B
                    card: !include topbar_calendar_layout2.yaml

                  # Non-Calendar sections (Chores/Photos/Lists) always use Layout 2
                  - type: conditional
                    conditions:
                      - entity: input_select.calendar_section
                        state_not: Calendar
                    card: !include topbar_calendar_layout2.yaml

                  # -------- CONDITIONAL CONTENT --------

                  # Calendar content
                  - type: conditional
                    conditions:
                      - entity: input_select.calendar_section
                        state: Calendar
                    card: !include calendar_view.yaml

                  # Chores content
                  - type: conditional
                    conditions:
                      - entity: input_select.calendar_section
                        state: Chores
                    card: !include chore_view.yaml

                  # Photos content
                  - type: conditional
                    conditions:
                      - entity: input_select.calendar_section
                        state: Photos
                    card: !include photo_view.yaml

                  # Lists content
                  - type: conditional
                    conditions:
                      - entity: input_select.calendar_section
                        state: Lists
                    card: !include lists_view.yaml
