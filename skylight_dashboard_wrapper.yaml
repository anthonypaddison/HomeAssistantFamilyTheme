title: Panogu Family
button_card_templates:
  sidebar_item:
    show_state: false
    show_name: >
      [[[
        return states['input_boolean.sidebar_collapsed']?.state !== 'on';
      ]]]
    styles:
      card:
        - border-radius: 12px
        - box-shadow: none
        - padding: >
            [[[
              // tighter padding when collapsed
              return states['input_boolean.sidebar_collapsed']?.state === 'on' ? '10px' : '10px 12px';
            ]]]
        - margin: 6px 0
        - justify-content: center
        - background: >
            [[[
              const s = variables?.section || '';
              const current = states['input_select.calendar_section']?.state;
              return current === s ? 'white' : 'transparent';
            ]]]
      grid:
        - grid-template-areas: >
            [[[
              // icon-only when collapsed
              return states['input_boolean.sidebar_collapsed']?.state === 'on' ? '"i"' : '"i n"';
            ]]]
        - grid-template-columns: >
            [[[
              return states['input_boolean.sidebar_collapsed']?.state === 'on' ? '1fr' : '28px 1fr';
            ]]]
        - grid-template-rows: min-content
      icon:
        - width: 24px
        - justify-self: center
        - color: >
            [[[
              const s = variables?.section || '';
              const current = states['input_select.calendar_section']?.state;
              return current === s ? 'var(--primary-color)' : 'var(--secondary-text-color)';
            ]]]
      name:
        - display: >
            [[[
              return states['input_boolean.sidebar_collapsed']?.state === 'on' ? 'none' : 'block';
            ]]]
        - justify-self: start
        - padding-left: 6px
        - font-weight: 700
        - font-size: 1.05rem
        - color: >
            [[[
              const s = variables?.section || '';
              const current = states['input_select.calendar_section']?.state;
              return current === s ? 'var(--primary-text-color)' : 'var(--secondary-text-color)';
            ]]]

views:
  - title: Panogu Family
    path: panogu-family
    panel: true
    badges: []
    cards:
      - type: custom:bootstrap-grid-card
        class: container-fluid g-0
        cards:
          - type: row
            class: row g-3 align-items-stretch
            cards:

              # -------- LEFT SIDEBAR --------
              - !include sidebar_menu.yaml

              # -------- RIGHT AREA --------
              - type: vertical-stack
                class: col-10
                cards:

                  # -------- TOP BARS --------

                  # Calendar -> Top Bar Layout 1 (A):
                  # Order: View selector -> Family name + time -> Small weather -> Legend
                  - type: conditional
                    conditions:
                      - entity: input_select.calendar_section
                        state: Calendar
                      - entity: input_select.calendar_header_layout
                        state: A
                    card: !include topbar_calendar_layout1.yaml

                  # Top Bar Layout 2 (B):
                  # Order: Family name -> Time -> Legend -> View selector
                  - type: conditional
                    conditions:
                      - entity: input_select.calendar_section
                        state: Calendar
                      - entity: input_select.calendar_header_layout
                        state: B
                    card: !include topbar_calendar_layout2.yaml

                  # Non-Calendar sections (Chores/Photos/Lists) always use Layout 2
                  - type: conditional
                    conditions:
                      - entity: input_select.calendar_section
                        state_not: Calendar
                    card: !include topbar_calendar_layout2.yaml

                  # -------- CONDITIONAL CONTENT --------

                  # Calendar content
                  - type: conditional
                    conditions:
                      - entity: input_select.calendar_section
                        state: Calendar
                    card: !include calendar_view.yaml

                  # Chores content
                  - type: conditional
                    conditions:
                      - entity: input_select.calendar_section
                        state: Chores
                    card: !include chore_view.yaml

                  # Photos content
                  - type: conditional
                    conditions:
                      - entity: input_select.calendar_section
                        state: Photos
                    card: !include photo_view.yaml

                  # Lists content
                  - type: conditional
                    conditions:
                      - entity: input_select.calendar_section
                        state: Lists
                    card: !include lists_view.yaml
