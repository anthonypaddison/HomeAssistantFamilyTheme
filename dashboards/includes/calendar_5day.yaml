type: custom:week-planner-card
days: 5
startingDay: today
columns:
  extraLarge: 5
  large: 5
  medium: 5
  small: 3
  extraSmall: 1
calendars:
  - entity: calendar.family
    color: var(--cal-color-family)
  - entity: calendar.anthony
    color: var(--cal-color-anthony)
  - entity: calendar.joy
    color: var(--cal-color-joy)
  - entity: calendar.lizzie
    color: var(--cal-color-lizzie)
  - entity: calendar.toby
    color: var(--cal-color-toby)
noCardBackground: false
card_mod:
  style: |
    :host {
      /* TUNE HERE */
      --hour-height: 64px;        /* px per hour; matches your grid */
      --rail-width:  56px;        /* left gutter width */
      --rail-pad-left: 10px;      /* inner padding for labels */
      --rail-top:    48px;        /* push first label below day headers */
      --rail-fsize:  12px;
      --rail-color:  var(--secondary-text-color);
    }

    /* Scroll container */
    ha-card {
      max-height: calc(100vh - 220px);
      overflow: auto;
    }

    /* Attach to the actual days container */
    ha-card .days {
      position: relative;
      padding-left: var(--rail-width); /* make room for rail */
      /* Hour stripes (30m + 60m) */
      background-image:
        repeating-linear-gradient(
          to bottom,
          transparent 0px,
          transparent calc(var(--hour-height) / 2 - 1px),
          rgba(0,0,0,0.03) calc(var(--hour-height) / 2)
        ),
        repeating-linear-gradient(
          to bottom,
          transparent 0px,
          transparent calc(var(--hour-height) - 1px),
          rgba(0,0,0,0.06) var(--hour-height)
        );
      background-clip: padding-box;
    }

    /* Fallback: if .days isnâ€™t present for some reason, pad each .day */
    ha-card .day { padding-left: var(--rail-width); }

    /* LEFT TIME RAIL (single column) */
    ha-card .days::before {
      /* Replace with 00:00..23:00 if you want full-day labels */
      content:
        "06:00\A07:00\A08:00\A09:00\A10:00\A11:00\A12:00\A13:00\A14:00\A15:00\A16:00\A17:00\A18:00\A19:00\A20:00\A21:00\A22:00";
      white-space: pre;
      position: absolute;
      left: 0;
      top: var(--rail-top);
      width: calc(var(--rail-width) - 4px);
      padding-left: var(--rail-pad-left);
      text-align: left;                 /* or right, if you prefer */
      line-height: var(--hour-height);  /* lines up with stripes */
      font-size: var(--rail-fsize);
      color: var(--rail-color);
      pointer-events: none;
      z-index: 2;
    }

    .day .header {
      font-weight: 700;
      color: var(--primary-text-color);
    }

    /* Small screens: hide the rail for space */
    @media (max-width: 900px) {
      ha-card .days,
      ha-card .day { padding-left: 12px; }
      ha-card .days::before { display: none; }
    }
