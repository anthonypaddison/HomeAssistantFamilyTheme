type: custom:week-planner-card
days: 5
startingDay: today
columns:
  extraLarge: 5
  large: 5
  medium: 5
  small: 3
  extraSmall: 1
calendars:
  - entity: calendar.family
    color: var(--cal-color-family)
  - entity: calendar.anthony
    color: var(--cal-color-anthony)
  - entity: calendar.joy
    color: var(--cal-color-joy)
  - entity: calendar.lizzie
    color: var(--cal-color-lizzie)
  - entity: calendar.toby
    color: var(--cal-color-toby)
noCardBackground: false

card_mod:
  # Adds a left-hand time rail and keeps your hour stripes.
  # Week Planner Card supports card-mod styling; docs list .days/.event classes for CSS. [1]
  style: |
    :host {
      /* ======= TUNABLES ======= */
      --hour-height: 64px;        /* pixels per hour (match your stripes) */
      --time-rail-width: 56px;    /* width of time gutter on the left */
      --time-rail-left-pad: 10px; /* inner padding before label text */
      --time-rail-top:  48px;     /* push labels down below day headers */
      --time-rail-size: 12px;
      --time-rail-color: var(--secondary-text-color);
      /* ======================== */
    }

    /* Make the card scrollable (your existing behaviour) */
    ha-card {
      max-height: calc(100vh - 220px);
      overflow: auto;
    }

    /* The calendar's multi-day body area */
    ha-card .days {
      /* Create space for the time rail on the left */
      position: relative;
      padding-left: var(--time-rail-width);

      /* Hour & half-hour stripes (match to --hour-height) */
      background-image:
        /* 30-min tick (lighter) */
        repeating-linear-gradient(
          to bottom,
          transparent 0px,
          transparent calc(var(--hour-height) / 2 - 1px),
          rgba(0,0,0,0.03) calc(var(--hour-height) / 2)
        ),
        /* 60-min tick (darker) */
        repeating-linear-gradient(
          to bottom,
          transparent 0px,
          transparent calc(var(--hour-height) - 1px),
          rgba(0,0,0,0.06) var(--hour-height)
        );
    }

    /* Left-hand time labels (appear even with no events) */
    ha-card .days::before {
      /* Change this block if you want different hours (e.g., 00:00â€“23:00) */
      content:
        "06:00\A07:00\A08:00\A09:00\A10:00\A11:00\A12:00\A13:00\A14:00\A15:00\A16:00\A17:00\A18:00\A19:00\A20:00\A21:00\A22:00";
      white-space: pre;
      position: absolute;
      left: var(--time-rail-left-pad);
      top: var(--time-rail-top);
      line-height: var(--hour-height);
      font-size: var(--time-rail-size);
      color: var(--time-rail-color);
      pointer-events: none;
      z-index: 1;
    }

    /* Optional: make day headers a touch bolder */
    .day .header {
      font-weight: 700;
      color: var(--primary-text-color);
    }

    /* Optional: hide the time rail on small screens */
    @media (max-width: 900px) {
      ha-card .days { padding-left: 12px; }
      ha-card .days::before { display: none; }
    }