title: Panogu Family
views:
  - title: Panogu Family
    path: family
    panel: true
    badges: []
    cards:
      - type: custom:bootstrap-grid-card
        class: container-fluid g-0
        cards:
          - type: row
            class: row align-items-center
            cards:
              - type: horizontal-stack
                class: col-4
                cards:
                  - type: horizontal-stack
                    cards:
                      - type: button
                        name: Calendar
                        tap_action:
                          action: call-service
                          service: input_select.select_option
                          target:
                            entity_id: input_select.calendar_section
                          data:
                            option: Calendar
                        card_mod:
                          style: |
                            :host {
                              --horizontal-stack-card-gap: 0px !important;
                              --stack-card-gap: 0px !important;
                            }
                            #root {
                              display: flex !important;
                              --horizontal-stack-card-gap: 0px !important;
                              --stack-card-gap: 0px !important;
                              gap: 0 !important;
                              margin: 0 !important;
                              padding: 0 !important;
                            }
                            ha-card span {
                              margin: 0px !important;
                              padding: 2px !important;
                            }
                            ha-card {
                              background: white;
                              border: 1px solid #8769bf;
                              border-width: 1px 0.5px 1px 1px;
                              border-radius: 18px 0 0 18px;
                              margin: 0 !important;
                              padding: 0px !important;
                              font-weight: 600;
                              color: #8769bf;
                              box-shadow: none;
                              flex: 1;   /* makes it stretch */
                              margin: 0 !important;
                            }
                            :host {
                              {% if states('input_select.calendar_section') == 'Calendar' %}
                              --control-bg: #8769bf !important;
                              --primary-text-color: white !important;
                              {% endif %}
                            }
                      - type: button
                        name: Chores
                        tap_action:
                          action: call-service
                          service: input_select.select_option
                          target:
                            entity_id: input_select.calendar_section
                          data:
                            option: Chores
                        card_mod:
                          style: |
                            :host {
                              --horizontal-stack-card-gap: 0px !important;
                              --stack-card-gap: 0px !important;
                            }
                            #root {
                              display: flex !important;
                              --horizontal-stack-card-gap: 0px !important;
                              --stack-card-gap: 0px !important;
                              gap: 0 !important;
                              margin: 0 !important;
                              padding: 0 !important;
                            }
                            ha-card span {
                              margin: 0px !important;
                              padding: 2px !important;
                            }
                            ha-card {
                              background: white;
                              border: 1px solid #8769bf;
                              border-width: 1px 1px 1px 0.5px;
                              border-radius: 0 18px 18px 0;
                              margin: 0 !important;
                              padding: 0px !important;
                              font-weight: 600;
                              color: #8769bf;
                              box-shadow: none;
                              flex: 1;   /* makes it stretch */
                            }
                            :host {
                              {% if states('input_select.calendar_section') == 'Chores' %}
                              --control-bg: #8769bf !important;
                              --primary-text-color: white !important;
                              {% endif %}
                            }
                  - type: entities
                    show_header_toggle: false
                    entities:
                      - entity: input_select.calendar_view
                        name: View
                    card_mod:
                      style: |
                        :host {
                          --mdc-icon-size: 0px !important;
                          --state-icon-color: transparent !important;
                          border-bottom-width: 0 !important;
                        }

                        mdc-line-ripple {
                          display: none !important;
                          border: none !important;
                          height: 0 !important;
                        }

                        ha-card {
                          background: transparent !important;
                          box-shadow: none !important;
                          border: 0 !important;
                          margin: 0 !important;
                          padding: 0 !important;
                          --mdc-select-fill-color: transparent !important;
                          --ha-select-min-width: 0px !important;
                          --ha-select-height: 50% !important;
                          --ha-card-border-width: 0px !important;
                          --restore-card-border-width: 0px !important;
                          border-bottom-width: 0 !important;
                        }
                        .mdc-select .mdc-select__anchor .mdc-floating-label {
                          display: none !important;
                        }
                        .card-content {
                          padding: 0 !important;
                        }
              - type: horizontal-stack
                class: col-4 justify-content-center
                cards:
                  - type: markdown
                    content: |
                      **Panogu Family**
                    card_mod:
                      style: |
                        ha-card {
                          background: transparent !important;
                          border: none !important;
                          box-shadow: none !important;
                          margin: 0 8px 0 0 !important;
                          text-align: center;
                          font-size: 3rem
                        }
                        ha-card .markdown { font-size: 9rem; line-height: 1.2; }
              - type: markdown
                class: col-4
                content: ''
                card_mod:
                  style: >
                    ha-card { background: transparent !important; box-shadow:
                    none !important; border: 0 !important; }
          - type: row
            class: row
            cards:
              - type: custom:digital-clock
                class: col-12
                timeFormat:
                  hour: 2-digit
                  minute: 2-digit
                dateFormat: cccc d LLLL yyyy
                card_mod:
                  style: >
                    ha-card {
                      background: transparent !important;
                      border: none !important;
                      box-shadow: none !important;
                      margin-top: 2px !important;
                      text-align: center !important;
                    }

                    .first-line { font-size: 180% !important; font-weight: 500;
                    }

                    .second-line { font-size: 100% !important; color:
                    var(--family-cal-header-color); }
          - type: row
            class: row
            cards:
              - type: conditional
                class: col-12
                conditions:
                  - entity: input_select.calendar_section
                    state: Calendar
                card:
                  type: vertical-stack
                  cards:
                    - type: conditional
                      conditions:
                        - entity: input_select.calendar_view
                          state: Day
                      card:
                        type: custom:week-planner-card
                        title: ''
                        days: 1
                        startingDay: today
                        noCardBackground: true
                        eventBackground: var(--family-cal-event-bg)
                        compact: true
                        showLegend: true
                        legendToggle: true
                        showNavigation: true
                        hideDaysWithoutEvents: false
                        columns:
                          extraLarge: 7
                          large: 7
                          medium: 5
                          small: 3
                          extraSmall: 1
                        calendars:
                          - entity: calendar.family
                            name: Family
                            color: var(--family-color-family)
                            hideInLegend: true
                          - entity: calendar.family
                            name: A
                            color: var(--family-color-anthony)
                            filter: ^(?:(?!Anthony).)*$
                            filterText: (?:\[?Anthony\]?\s?-\s?|Anthony:\s?)
                          - entity: calendar.family
                            name: J
                            color: var(--family-color-joy)
                            filter: ^(?:(?!Joy).)*$
                            filterText: (?:\[?Joy\]?\s?-\s?|Joy:\s?)
                          - entity: calendar.family
                            name: L
                            color: var(--family-color-lizzie)
                            filter: ^(?:(?!Lizzie).)*$
                            filterText: (?:\[?Lizzie\]?\s?-\s?|Lizzie:\s?)
                          - entity: calendar.family
                            name: T
                            color: var(--family-color-toby)
                            filter: ^(?:(?!Toby).)*$
                            filterText: (?:\[?Toby\]?\s?-\s?|Toby:\s?)
                        card_mod:
                          style: >
                            /* Right-align the legend row and make color dots
                            circular */

                            ha-card .legend {
                              display: flex; justify-content: flex-end; gap: 8px; flex-wrap: wrap;
                              margin-right: 6px;
                            }

                            ha-card .legend .calendar .color {
                              width: 14px; height: 14px; border-radius: 50%;
                            }
                    - type: conditional
                      conditions:
                        - entity: input_select.calendar_view
                          state: Week
                      card:
                        type: custom:week-planner-card
                        title: ''
                        days: 5
                        startingDay: today
                        noCardBackground: true
                        eventBackground: var(--family-cal-event-bg)
                        compact: true
                        showLegend: true
                        legendToggle: true
                        showNavigation: true
                        hideDaysWithoutEvents: false
                        columns:
                          extraLarge: 7
                          large: 7
                          medium: 5
                          small: 3
                          extraSmall: 1
                        calendars:
                          - entity: calendar.family
                            name: Family
                            color: var(--family-color-family)
                            hideInLegend: true
                          - entity: calendar.family
                            name: A
                            color: var(--family-color-anthony)
                            filter: ^(?:(?!Anthony).)*$
                            filterText: (?:\[?Anthony\]?\s?-\s?|Anthony:\s?)
                          - entity: calendar.family
                            name: J
                            color: var(--family-color-joy)
                            filter: ^(?:(?!Joy).)*$
                            filterText: (?:\[?Joy\]?\s?-\s?|Joy:\s?)
                          - entity: calendar.family
                            name: L
                            color: var(--family-color-lizzie)
                            filter: ^(?:(?!Lizzie).)*$
                            filterText: (?:\[?Lizzie\]?\s?-\s?|Lizzie:\s?)
                          - entity: calendar.family
                            name: T
                            color: var(--family-color-toby)
                            filter: ^(?:(?!Toby).)*$
                            filterText: (?:\[?Toby\]?\s?-\s?|Toby:\s?)
                        card_mod:
                          style: |
                            ha-card .legend {
                              display: flex; justify-content: flex-end; gap: 8px; flex-wrap: wrap;
                              margin-right: 6px;
                            }
                            ha-card .legend .calendar .color {
                              width: 14px; height: 14px; border-radius: 50%;
                            }
                    - type: conditional
                      conditions:
                        - entity: input_select.calendar_view
                          state: Month
                      card:
                        type: custom:week-planner-card
                        title: ''
                        days: 30
                        startingDay: today
                        noCardBackground: true
                        eventBackground: var(--family-cal-event-bg)
                        compact: true
                        showLegend: true
                        legendToggle: true
                        showNavigation: true
                        hideDaysWithoutEvents: false
                        columns:
                          extraLarge: 7
                          large: 7
                          medium: 5
                          small: 3
                          extraSmall: 1
                        calendars:
                          - entity: calendar.family
                            name: Family
                            color: var(--family-color-family)
                            hideInLegend: true
                          - entity: calendar.family
                            name: A
                            color: var(--family-color-anthony)
                            filter: ^(?:(?!Anthony).)*$
                            filterText: (?:\[?Anthony\]?\s?-\s?|Anthony:\s?)
                          - entity: calendar.family
                            name: J
                            color: var(--family-color-joy)
                            filter: ^(?:(?!Joy).)*$
                            filterText: (?:\[?Joy\]?\s?-\s?|Joy:\s?)
                          - entity: calendar.family
                            name: L
                            color: var(--family-color-lizzie)
                            filter: ^(?:(?!Lizzie).)*$
                            filterText: (?:\[?Lizzie\]?\s?-\s?|Lizzie:\s?)
                          - entity: calendar.family
                            name: T
                            color: var(--family-color-toby)
                            filter: ^(?:(?!Toby).)*$
                            filterText: (?:\[?Toby\]?\s?-\s?|Toby:\s?)
                        card_mod:
                          style: |
                            ha-card .legend {
                              display: flex; justify-content: flex-end; gap: 8px; flex-wrap: wrap;
                              margin-right: 6px;
                            }
                            ha-card .legend .calendar .color {
                              width: 14px; height: 14px; border-radius: 50%;
                            }
              - type: conditional
                class: col-12
                conditions:
                  - entity: input_select.calendar_section
                    state: Chores
                card:
                  type: horizontal-stack
                  cards:
                    - type: todo-list
                      entity: todo.lizzie_chores
                      title: Lizzie's Chores
                      item_tap_action: toggle
                      hide_completed: false
                      display_order: duedate_asc
                      card_mod:
                        style: |
                          ha-card.type-todo-list div.header,
                          ha-card.type-todo-list .addRow { display: none; }
                          ha-check-list-item {
                            max-height: 72px !important;
                            background-color: #fff;
                            border: 1px solid var(--family-cal-grid-line);
                            border-radius: 18px;
                            box-shadow: 0 2px 6px rgba(0,0,0,.06);
                            padding: 6px 12px;
                          }
                    - type: todo-list
                      entity: todo.toby_chores
                      title: Toby's Chores
                      item_tap_action: toggle
                      hide_completed: false
                      display_order: duedate_asc
                      card_mod:
                        style: |
                          ha-card.type-todo-list div.header,
                          ha-card.type-todo-list .addRow { display: none; }
                          ha-check-list-item {
                            max-height: 72px !important;
                            background-color: #fff;
                            border: 1px solid var(--family-cal-grid-line);
                            border-radius: 18px;
                            box-shadow: 0 2px 6px rgba(0,0,0,.06);
                            padding: 6px 12px;
                          }
          - type: button
            icon: mdi:plus
            name: ''
            tap_action:
              action: fire-dom-event
              browser_mod:
                service: browser_mod.popup
                data:
                  title: Add Calendar Event
                  size: wide
                  content:
                    type: vertical-stack
                    card_mod:
                      style: |
                        :host ha-dialog {
                          --mdc-dialog-min-width: 780px;
                          --mdc-dialog-max-width: 980px;
                        }
                        div.mdc-dialog div.mdc-dialog__scrim {
                          backdrop-filter: blur(6px);
                          background: rgba(0,0,0,.15);
                        }
                        div.mdc-dialog .mdc-dialog__surface {
                          background: #FFFFFF;
                          border-radius: 16px;
                          border: 1px solid var(--family-cal-grid-line);
                        }
                    cards:
                      - type: input-text
                        entity: input_text.calendar_event_title
                        name: Title
                      - type: input-text
                        entity: input_text.calendar_event_description
                        name: Description
                      - type: input-datetime
                        entity: input_datetime.calendar_event_start
                        name: Start
                        with_time: true
                      - type: input-datetime
                        entity: input_datetime.calendar_event_end
                        name: End
                        with_time: true
                      - type: input-boolean
                        entity: input_boolean.calendar_all_day
                        name: All Day
                      - type: button
                        name: Save Event
                        icon: mdi:check
                        tap_action:
                          action: call-service
                          service: script.add_calendar_event
            card_mod:
              style: >
                :host { position: fixed; right: 24px; bottom: 24px; z-index:
                1000; }

                ha-card {
                  width: 64px; height: 64px;
                  border-radius: 50%;
                  background: var(--primary-color);
                  color: var(--primary-background-color);
                  box-shadow: 0 8px 18px rgba(0,0,0,.18);
                }

                ha-card .icon { --mdc-icon-size: 28px; }
