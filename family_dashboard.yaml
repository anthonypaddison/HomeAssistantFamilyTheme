title: Family
theme: FamilyBoard
button_card_templates:
  family_icon:
    show_name: false
    show_icon: true
    styles:
      card:
        - width: 100% !important
        - height: 75px
        - border-radius: 0
        - box-shadow: none
        - background: var(--sb-inactive-bg)
        - color: var(--sb-inactive-icon)
        - place-items: center
        - position: relative
        - padding: 0
      icon:
        - width: 50px
        - height: 50px

  sb_icon_only:
    variables:
      section: ""
      badge_entity: ""
    show_name: false
    show_icon: true
    custom_fields:
      badge: >
        [[[
          const e = variables.badge_entity ? states[variables.badge_entity] : null;
          const n = e ? Number(e.state ?? 0) : 0;
          return n > 0 ? `${n}` : '';
        ]]]
    styles:
      card:
        - width: 100% !important
        - height: 75px
        - border-radius: 0
        - box-shadow: none
        - background: var(--sb-inactive-bg) !important
        - color: var(--sb-inactive-icon) !important
        - place-items: center
        - padding: 0
        - transition: transform .05s ease
      icon:
        - width: 50px
        - height: 50px
      custom_fields:
        badge:
          - position: absolute
          - bottom: 6px
          - right: -6px
          - min-width: 20px
          - height: 20px
          - border-radius: 10px
          - background: white
          - color: "#0F172A"
          - font-weight: 800
          - font-size: 12px
          - display: flex
          - align-items: center
          - justify-content: center
          - border: 2px solid #0F172A
    state:
      - operator: template
        value: '[[[ return states["input_select.family_section"]?.state === variables.section; ]]]'
        styles:
          card:
            - background: var(--sb-active-bg)
            - color: var(--sb-active-icon)

views:
  - title: Family
    path: family
    # panel: true        # ‚Üê Optional: I'd remove this when using custom:grid-layout
    type: custom:grid-layout
    card_mod:
      style: |
        :host {
          height: calc(100vh - var(--header-height));
          block-size: calc(100vh - var(--header-height));
          width: 100vw;
          margin: 0 !important;
          padding: 0 !important;
          background: green !important;
        }
        hui-view {
          height: 100% !important;
          padding: 0 !important;
          margin: 0 !important;
        }
        #root, .layout, .grid, .horizontal, .vertical {
          height: 100% !important;
          margin: 0 !important;
          padding: 0 !important;
        }
    layout:
      margin: 0px
      padding: 0px
      grid-template-columns: 6% 1fr
      grid-template-rows: auto auto 1fr
      grid-template-areas: |
        "sidebar heading"
        "sidebar chips"
        "sidebar main"
      gap: 0px
      column-gap: 0px
      row-gap: 0px

    cards:
      # - !include /config/sidebar_menu.yaml
      - !include /config/sidebar_menu_test.yaml


# # 2) HEADING ROW
# - !include /config/heading_row.yaml

# # 3) CHIPS ROW
# - !include /config/chips_row.yaml

# # 4) MAIN AREA (conditional sections)
# - type: vertical-stack
#   view_layout: { grid-area: main }
#   cards:
#     # Calendar Section
#     - type: conditional
#       conditions:
#         - entity: input_select.family_section
#           state: Calendar
#       card: !include /config/calendar_section.yaml

#     # Chores Section
#     - type: conditional
#       conditions:
#         - entity: input_select.family_section
#           state: Chores
#       card: !include /config/chores_section.yaml

# # 5) FAB BUTTON (always present)
# - !include /config/fab_button.yaml
