family_add_item:
    alias: "Family: Add item based on active section"
    mode: single
    sequence:
      - variables:
          section: "{{ states('input_select.family_section') }}"
      - choose:
          - conditions: "{{ section == 'Chores' }}"
            sequence:
              - action: todo.add_item
                target:
                  entity_id: todo.family
                data:
                  item: "New chore"
          - conditions: "{{ section == 'Lists' }}"
            sequence:
              - action: todo.add_item
                target:
                  entity_id: todo.lists     # <-- CHANGE to your Lists project entity if different
                data:
                  item: "New list item"
          - conditions: "{{ section == 'Calendar' }}"
            sequence:
              - action: calendar.create_event
                target:
                  entity_id: calendar.family
                data:
                  summary: "New event"
                  start_date_time: "{{ now().strftime('%Y-%m-%dT%H:%M:%S') }}"
                  end_date_time: "{{ (now() + timedelta(hours=1)).strftime('%Y-%m-%dT%H:%M:%S') }}"
